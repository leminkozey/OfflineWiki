<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OfflineWiki</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body data-theme="dark">
    <div class="page">
      <div class="top-bar">
        <div class="chip" id="statusChip">Status: --</div>
        <div class="top-actions">
          <button class="lang-btn" id="langSwitchBtn" aria-label="Sprache wechseln">
            <span class="flag" data-lang="de" title="Deutsch">
              <svg viewBox="0 0 18 12" aria-hidden="true">
                <rect width="18" height="12" fill="#000000"></rect>
                <rect y="4" width="18" height="4" fill="#dd0000"></rect>
                <rect y="8" width="18" height="4" fill="#ffce00"></rect>
              </svg>
            </span>
            <span class="flag" data-lang="en" title="English">
              <svg viewBox="0 0 18 12" aria-hidden="true">
                <rect width="18" height="12" fill="#012169"></rect>
                <path d="M0 0l18 12M18 0L0 12" stroke="#ffffff" stroke-width="2"></path>
                <path d="M0 0l18 12M18 0L0 12" stroke="#c8102e" stroke-width="1"></path>
                <rect x="7" width="4" height="12" fill="#ffffff"></rect>
                <rect y="4" width="18" height="4" fill="#ffffff"></rect>
                <rect x="8" width="2" height="12" fill="#c8102e"></rect>
                <rect y="5" width="18" height="2" fill="#c8102e"></rect>
              </svg>
            </span>
          </button>
          <button class="settings-btn" id="settingsBtn" aria-label="Einstellungen anzeigen">
            <span class="settings-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z" />
              </svg>
            </span>
            <span class="settings-text">Einstellungen</span>
          </button>
        </div>
      </div>

      <div class="hero">
        <h1>OfflineWiki</h1>
        <p class="small-note">
          Lokales Wikipedia-Archiv über Kiwix. Alles bleibt im eigenen Netz.
        </p>
      </div>

      <section class="card start-menu">
        <div class="section-title">
          <h3>Startmenü</h3>
        </div>
        <div class="search-row single">
          <input id="searchInput" type="text" placeholder="Wikipedia durchsuchen (Enter)" />
        </div>

        <div class="menu-grid">
          <a class="menu-tile" id="tileHome" href="#" target="_blank" rel="noopener">
            <span class="tile-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6">
                <path d="M4 11l8-7 8 7" />
                <path d="M6 10v9h12v-9" />
              </svg>
            </span>
            <div>
              <h4>Wikipedia Start</h4>
              <p>Direkt in das Offline-Wiki springen.</p>
            </div>
          </a>

          <button class="menu-tile" id="tileRecent" type="button">
            <span class="tile-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6">
                <path d="M3 12a9 9 0 1 0 3-6.7" />
                <path d="M3 3v4h4" />
                <path d="M12 7v5l3 2" />
              </svg>
            </span>
            <div>
              <h4>Zuletzt besucht</h4>
              <p>Letzte Suchen/Artikel anzeigen.</p>
            </div>
          </button>

          <button class="menu-tile" id="tileFavorites" type="button">
            <span class="tile-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke-width="1.6">
                <path d="M12 17.5l-6 3 1.2-6.5L2.5 9l6.6-.9L12 2l2.9 6.1 6.6.9-4.7 5 1.2 6.5z" />
              </svg>
            </span>
            <div>
              <h4>Favoriten</h4>
              <p>Schnellzugriff auf deine Themen.</p>
            </div>
          </button>
        </div>
      </section>

      <section class="card" id="recentPanel" hidden>
        <div class="section-title">
          <h3>Zuletzt besucht</h3>
        </div>
        <div class="list" id="recentList"></div>
      </section>

      <section class="card" id="favoritesPanel" hidden>
        <div class="section-title">
          <h3>Favoriten</h3>
        </div>
        <div class="favorites-form">
          <input id="favoriteLabel" type="text" placeholder="Titel (z.B. KI)" />
          <input id="favoriteQuery" type="text" placeholder="Suchbegriff (z.B. LLM)" />
          <button class="btn" id="addFavorite">Hinzufügen</button>
        </div>
        <div class="list" id="favoritesList"></div>
      </section>

      <section class="card" id="serverPanel" hidden>
        <div class="section-title">
          <h3>Server Befehle</h3>
        </div>
        <div class="command-grid">
          <div class="code-card">
            <div>
              <span class="small-note">Neustart</span>
              <code>cd /Volumes/MK/kiwix &amp;&amp; docker compose restart</code>
            </div>
            <button class="btn secondary" id="copyRestart">Kopieren</button>
          </div>
          <div class="code-card">
            <div>
              <span class="small-note">Herunterfahren</span>
              <code>cd /Volumes/MK/kiwix &amp;&amp; docker compose down</code>
            </div>
            <button class="btn secondary" id="copyDown">Kopieren</button>
          </div>
        </div>
      </section>

      <footer class="site-footer">
        <span>made by <a href="https://github.com/leminkozey" target="_blank" rel="noopener">leminkozey</a></span>
        <span class="version">v2.2.0</span>
      </footer>
    </div>

    <div class="overlay" id="settingsOverlay">
      <div class="settings-modal">
        <div class="settings-header">
          <h3>Einstellungen</h3>
          <button class="close-btn" id="settingsClose" aria-label="Einstellungen schließen">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M6 6l12 12" />
              <path d="M18 6l-12 12" />
            </svg>
          </button>
        </div>
        <div class="settings-body">
          <nav class="settings-sidebar">
            <button class="settings-tab active" data-tab="design">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M17 3a2.83 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z" />
                <path d="M15 5l4 4" />
              </svg>
              <span>Design</span>
            </button>
            <button class="settings-tab" data-tab="server">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <rect x="2" y="3" width="20" height="6" rx="2" />
                <rect x="2" y="15" width="20" height="6" rx="2" />
                <circle cx="6" cy="6" r="1" fill="currentColor" />
                <circle cx="6" cy="18" r="1" fill="currentColor" />
              </svg>
              <span>Server</span>
            </button>
            <button class="settings-tab" data-tab="credits">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="9" />
                <circle cx="12" cy="8" r="1" fill="currentColor" />
                <path d="M12 11v5" stroke-width="2" />
              </svg>
              <span>Credits</span>
            </button>
          </nav>
          <div class="settings-content">
            <div class="settings-panel active" id="panel-design">
              <h4>Design</h4>
              <div class="settings-section">
                <label>Theme</label>
                <div class="theme-switcher" id="themeSwitcher">
                  <button class="theme-option" data-value="dark" title="Dark">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                  </button>
                  <button class="theme-option" data-value="system" title="System">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                      <rect x="2" y="3" width="20" height="14" rx="2"/>
                      <path d="M8 21h8M12 17v4"/>
                    </svg>
                  </button>
                  <button class="theme-option" data-value="light" title="Light">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                      <circle cx="12" cy="12" r="5"/>
                      <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                  </button>
                  <span class="theme-slider"></span>
                </div>
              </div>
              <div class="settings-section">
                <label>Button Style</label>
                <div class="toggle-group" id="buttonStyleToggleGroup">
                  <button class="toggle-option" data-value="default">Default</button>
                  <button class="toggle-option" data-value="simple">Simple</button>
                </div>
              </div>
              <div class="settings-section">
                <label for="glowStrength">Glow-Stärke</label>
                <div class="glow-control">
                  <span class="glow-icon" data-variant="low" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                      <circle cx="12" cy="12" r="5" fill="none" />
                    </svg>
                  </span>
                  <input class="glow-slider" id="glowStrength" type="range" min="0" max="2" step="0.1" value="1" />
                  <span class="glow-icon" data-variant="high" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round">
                      <circle cx="12" cy="12" r="4.5" fill="none" />
                      <path d="M12 2v3M12 19v3M4.2 4.2l2.1 2.1M17.7 17.7l2.1 2.1M2 12h3M19 12h3M4.2 19.8l2.1-2.1M17.7 6.3l2.1-2.1" />
                    </svg>
                  </span>
                </div>
              </div>
              <div class="settings-section">
                <label>Akzentfarbe</label>
                <div class="accent-picker" id="accentPicker">
                  <button class="accent-option" data-color="#00d4ff" title="Cyan" style="--swatch: #00d4ff"></button>
                  <button class="accent-option" data-color="#a855f7" title="Lila" style="--swatch: #a855f7"></button>
                  <button class="accent-option" data-color="#ec4899" title="Pink" style="--swatch: #ec4899"></button>
                  <button class="accent-option" data-color="#10b981" title="Grün" style="--swatch: #10b981"></button>
                  <button class="accent-option" data-color="#f59e0b" title="Orange" style="--swatch: #f59e0b"></button>
                </div>
              </div>
            </div>
            <div class="settings-panel" id="panel-server">
              <h4>Server</h4>
              <div class="settings-section">
                <label>Links in neuem Tab öffnen</label>
                <div class="toggle-group" id="openTabToggleGroup">
                  <button class="toggle-option" data-value="true">An</button>
                  <button class="toggle-option" data-value="false">Aus</button>
                </div>
              </div>
              <div class="settings-section">
                <div class="status-row">
                  <span class="status-dot" id="serverStatusDot"></span>
                  <div class="small-note" id="serverStatusText">Serverstatus ...</div>
                </div>
              </div>
              <div class="settings-section">
                <button class="btn secondary" id="showServerCommands">Server Befehle anzeigen</button>
              </div>
              <div class="settings-section">
                <button class="btn danger" id="resetBtn">Zurücksetzen</button>
              </div>
            </div>
            <div class="settings-panel" id="panel-credits">
              <div class="credits-content">
                <img class="credits-avatar" id="creditsAvatar" src="https://github.com/leminkozey.png" alt="leminkozey" />
                <span class="credits-label">made by</span>
                <a class="credits-name" id="creditsName" href="https://github.com/leminkozey" target="_blank" rel="noopener">leminkozey</a>
                <span class="credits-version" id="creditsVersion">v1.1.0</span>
                <a class="credits-repo" id="creditsRepo" href="https://github.com/leminkozey/OfflineWiki" target="_blank" rel="noopener">
                  bleib up to date
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
